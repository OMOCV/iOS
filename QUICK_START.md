# 快速开始指南

## 5 分钟上手 ABB Robot Reader

### 第 1 步：获取应用

#### 选项 A: 从源码构建

```bash
# 克隆仓库
git clone https://github.com/OMOCV/iOS.git
cd iOS

# 在 Xcode 中打开
open ABBRobotReader.xcodeproj
```

#### 选项 B: 下载预构建版本

（待发布到 App Store 或 TestFlight）

### 第 2 步：准备测试文件

#### 使用示例文件

项目包含示例 ABB RAPID 文件：

```
SamplePrograms/
├── MainModule.mod      # 完整示例程序
└── UtilityModule.mod   # 工具函数模块
```

#### 使用你自己的文件

将你的 ABB 机器人程序文件（.mod, .prg, .sys, .cfg）传输到 iOS 设备：

1. **通过 iCloud Drive**
   - 将文件上传到 iCloud Drive
   - 在 iOS 设备上打开文件 app

2. **通过 AirDrop**
   - 从 Mac 通过 AirDrop 发送文件
   - 保存到 Files app

3. **通过 iTunes/Finder 文件共享**
   - 连接设备
   - 在 Finder/iTunes 中选择设备
   - 使用文件共享传输

### 第 3 步：导入文件

1. 启动 ABB Robot Reader
2. 点击 **"Import Files"** 按钮
3. 浏览并选择你的 ABB 文件
4. 点击 **"Open"**

![导入文件](docs/images/import_files.png)

### 第 4 步：浏览程序

1. **查看文件列表**
   - 所有导入的文件显示在主屏幕
   - 显示每个文件包含的模块数量

2. **打开文件详情**
   - 点击文件名
   - 查看模块和例行程序列表

3. **查看代码**
   - 展开 "Routines" 查看所有过程和函数
   - 点击例行程序名称查看带语法高亮的代码

### 第 5 步：享受语法高亮

代码会自动应用语法高亮：

- 🟣 **紫色** - 关键字（MODULE, PROC, IF 等）
- 🔵 **蓝色** - 数据类型（num, bool, robtarget 等）
- 🟠 **橙色** - 指令（MoveL, MoveJ, SetDO 等）
- 🟢 **绿色** - 注释（! 开头的行）
- 🔴 **红色** - 字符串
- 🔷 **青色** - 数字

## 常见操作

### 查看完整模块

1. 打开文件详情
2. 滚动到底部
3. 点击 **"View Full Module"**

### 复制代码

1. 在代码查看器中长按文本
2. 拖动选择要复制的部分
3. 点击 **"Copy"**

### 清除所有文件

1. 在主屏幕
2. 点击左上角的垃圾桶图标 🗑️
3. 确认清除

### 添加更多文件

1. 点击右上角的 "+" 按钮
2. 选择更多文件
3. 新文件添加到列表

## 示例文件说明

### MainModule.mod

一个完整的机器人程序示例，包含：

- ✅ 变量声明（VAR, PERS, CONST）
- ✅ 主程序（main PROC）
- ✅ 子程序（PickPart, PlacePart）
- ✅ 函数（CalcDistance）
- ✅ 陷阱（EmergencyStop）
- ✅ 运动指令（MoveJ, MoveL）
- ✅ I/O 操作（SetDO, WaitDI）
- ✅ 控制流（WHILE, IF）

### UtilityModule.mod

简单的工具函数模块，演示：

- ✅ 函数定义
- ✅ 常量声明
- ✅ 数学计算

## 界面导航

```
ABB Robot Reader
├── 主屏幕
│   ├── 欢迎界面（无文件时）
│   │   └── Import Files 按钮
│   └── 文件列表（有文件时）
│       ├── 文件项
│       │   ├── 文件名
│       │   └── 模块列表
│       ├── + 按钮（导入更多）
│       └── 🗑️ 按钮（清除全部）
│
├── 文件详情
│   └── 模块列表
│       ├── 声明（可展开）
│       ├── 例行程序（可展开）
│       │   └── 例行程序项
│       │       ├── 名称
│       │       ├── 类型
│       │       └── 参数数量
│       └── View Full Module 按钮
│
└── 代码查看器
    ├── 导航栏（标题 + Done 按钮）
    └── 代码内容（带语法高亮）
        └── 支持滚动和文本选择
```

## 键盘快捷键（iPad）

- **⌘N**: 导入新文件（待实现）
- **⌘W**: 关闭当前视图
- **⌘C**: 复制选中文本
- **⌘F**: 查找（待实现）

## 提示和技巧

### 💡 快速技巧

1. **横屏查看代码**
   - 旋转设备到横屏
   - 获得更宽的代码视图

2. **使用分屏功能（iPad）**
   - 在 iPad 上可以同时打开多个应用
   - 例如：ABB Reader + Notes

3. **保存常用文件**
   - 将常用文件保存在 iCloud Drive
   - 方便随时访问

4. **学习 RAPID 语法**
   - 使用示例文件学习
   - 注意语法高亮的颜色含义

### ⚠️ 注意事项

1. **文件编码**
   - 确保文件是 UTF-8 编码
   - 某些旧文件可能需要转换

2. **文件大小**
   - 非常大的文件（>5MB）可能加载较慢
   - 建议将大文件分割

3. **语法兼容性**
   - 支持标准 ABB RAPID 语法
   - 某些自定义语法可能无法完全识别

## 下一步

### 深入学习

- 📖 阅读 [用户指南](USER_GUIDE.md)
- 🔧 查看 [构建指南](BUILD_GUIDE.md)
- 💻 了解 [技术文档](TECHNICAL_DOC.md)

### 获取帮助

- 🐛 [报告问题](https://github.com/OMOCV/iOS/issues)
- 💬 [讨论](https://github.com/OMOCV/iOS/discussions)
- 📧 联系开发者

### 贡献

欢迎贡献代码、文档或建议！

1. Fork 项目
2. 创建功能分支
3. 提交 Pull Request

## 常见问题 (FAQ)

### Q: 应用是否需要网络连接？
A: 不需要。所有处理都在本地完成。

### Q: 我的文件会被上传到服务器吗？
A: 不会。应用完全离线工作，不会上传任何数据。

### Q: 支持哪些 iOS 版本？
A: iOS 15.0 及以上版本。

### Q: 应用是否免费？
A: 是的，应用是开源和免费的。

### Q: 可以编辑文件吗？
A: 目前版本只支持查看。编辑功能计划在未来版本中添加。

### Q: 如何导出带语法高亮的代码？
A: 目前可以通过截图保存。PDF 导出功能计划在未来版本中添加。

---

**开始使用 ABB Robot Reader，享受阅读机器人程序的乐趣！** 🤖📱
